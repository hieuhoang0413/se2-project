<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="_layout">

<head>
    <title>My Account</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
</head>

<body>
    <div layout:fragment="content" class="container mx-auto px-4 py-12 max-w-[1140px]">
        <h1 class="text-center font-['Poppins'] font-medium text-[54px] leading-[58px] tracking-[-1px] mb-12">My Account
        </h1>
        <div class="flex justify-center">
            <div class="w-full max-w-[1000px] flex">
                <!-- Sidebar -->
                <div class="w-[262px] bg-[#F3F5F7] rounded-[8px] p-[16px] pt-[40px] pb-[40px] mr-[60px] h-fit">
                    <div class="flex flex-col items-center gap-[40px]">
                        <div class="flex flex-col items-center">
                            <div class="relative mb-4">
                                <form th:action="@{/upload-avatar}" method="post" enctype="multipart/form-data"
                                    id="avatarForm" class="hidden">
                                    <input type="file" name="file" id="avatarInput" accept="image/*"
                                        onchange="document.getElementById('avatarForm').submit()">
                                </form>
                                <img th:src="${user.avatarUrl ?: '/images/profile/user.jpg'}" alt="Profile"
                                    class="w-24 h-24 rounded-full object-cover" />
                                <div class="absolute bottom-0 right-0 bg-white rounded-full p-1r cursor-pointer"
                                    onclick="document.getElementById('avatarInput').click()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34">
                                        </path>
                                        <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>
                                    </svg>
                                </div>
                            </div>
                            <div class="text-center">
                                <h2 th:text="${user.fullName}" class="text-lg font-semibold"></h2>
                            </div>
                        </div>
                        <nav class="w-full">
                            <ul class="space-y-4">
                                <li>
                                    <a href="#"
                                        class="block text-black font-medium bg-white py-2 px-3 rounded-md">Account</a>
                                </li>
                                <li>
                                    <a href="/myAccountOrder"
                                        class="block text-gray-500 hover:text-black py-2 px-3">Orders</a>
                                </li>
                                <li>
                                    <a href="/login" class="block text-gray-500 hover:text-black py-2 px-3">Log Out</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>

                <!-- Account Details Form -->
                <div class="flex-1">
                    <h2 class="text-2xl font-semibold mb-8">Account Details</h2>
                    <form th:action="@{/account/update}" method="post" class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">First Name
                                    *</label>
                                <input type="text" id="firstName" name="firstName"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="First name"
                                    required />
                            </div>
                            <div>
                                <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name
                                    *</label>
                                <input type="text" id="lastName" name="lastName"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Last name"
                                    required />
                            </div>
                        </div>

                        <div>
                            <label for="displayName" class="block text-sm font-medium text-gray-700 mb-2">Display Name
                                *</label>
                            <input type="text" id="displayName" name="displayName"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md"
                                placeholder="This will be how your name will be displayed" />
                        </div>

                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                            <input type="email" id="email" name="email"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Email"
                                required />
                        </div>

                        <div>
                            <h2 class="text-xl font-semibold mb-6">Password</h2>
                            <div class="space-y-4">
                                <div>
                                    <label for="oldPassword" class="block text-sm font-medium text-gray-700 mb-2">Old
                                        Password</label>
                                    <input type="password" id="oldPassword" name="oldPassword"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md"
                                        placeholder="Old password" />
                                </div>
                                <div>
                                    <label for="newPassword" class="block text-sm font-medium text-gray-700 mb-2">New
                                        Password</label>
                                    <input type="password" id="newPassword" name="newPassword"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md"
                                        placeholder="New password" />
                                </div>
                                <div>
                                    <label for="confirmPassword"
                                        class="block text-sm font-medium text-gray-700 mb-2">Repeat New Password</label>
                                    <input type="password" id="confirmPassword" name="confirmPassword"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md"
                                        placeholder="Repeat new password" />
                                </div>
                            </div>
                        </div>

                        <div>
                            <button type="submit"
                                class="w-full bg-black text-white py-3 rounded-md hover:bg-gray-800 transition-colors">
                                Save Changes
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.tailwindcss.com"></script>

</html>